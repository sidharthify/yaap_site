<!DOCTYPE html>
<html lang="en">
    <head>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const slides = document.querySelectorAll('.screenshot-slide');
                const leftBtn = document.querySelector('.carousel-arrow.left');
                const rightBtn = document.querySelector('.carousel-arrow.right');
                let current = 0;

                function showSlide(idx) {
                    slides.forEach((slide, i) => {
                        slide.classList.toggle('active', i === idx);
                    });
                }

                showSlide(current);

                rightBtn.addEventListener('click', () => {
                    current = (current + 1) % slides.length;
                    showSlide(current);
                });

                leftBtn.addEventListener('click', () => {
                    current = (current - 1 + slides.length) % slides.length;
                    showSlide(current);
                });

                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft') {
                        leftBtn.click();
                    } else if (e.key === 'ArrowRight') {
                        rightBtn.click();
                    }
                });
            });

            document.addEventListener('DOMContentLoaded', function () {
                const starsEl = document.getElementById('github-stars');
                if (! starsEl) 
                    return;
                

                fetch('https://api.github.com/repos/yaap/manifest').then(response => {
                    if (!response.ok) 
                        throw new Error('Network response was not ok');
                    
                    return response.json();
                }).then(data => {
                    if (data && typeof data.stargazers_count === 'number') {
                        starsEl.textContent = data.stargazers_count;
                    } else {
                        starsEl.textContent = '—';
                    }
                }).catch(() => {
                    starsEl.textContent = '—';
                });
            });
        </script>
        <style>
            .screenshots {
                padding: 120px 0;
                background: var(--color-bg-1);
            }
            .screenshot-carousel {
                position: relative;
                max-width: 700px;
                margin: 0 auto;
                height: 420px;
                overflow: hidden;
                border-radius: var(--radius-lg);
                box-shadow: var(--shadow-lg);
                background: var(--color-surface);
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .screenshot-track {
                position: relative;
                width: 100%;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .screenshot-slide {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 0;
                transform: scale(0.96) translateX(80px);
                transition: opacity 0.7s cubic-bezier(0.45,0.45,0.28,1), transform 0.7s cubic-bezier(0.45,0.45,0.28,1);
                pointer-events: none;
            }
            .screenshot-slide.active {
                opacity: 1;
                transform: scale(1) translateX(0px);
                pointer-events: auto;
                z-index: 10;
            }
            .screenshot-slide img {
                max-width: 95%;
                max-height: 95%;
                border-radius: var(--radius-md);
                box-shadow: 0 5px 40px rgba(0, 0, 0, 0.12);
            }
            .carousel-arrow {
                background: var(--color-primary);
                color: var(--color-white);
                border: none;
                border-radius: var(--radius-full);
                width: 48px;
                height: 48px;
                font-size: 2rem;
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
                z-index: 20;
                cursor: pointer;
                transition: background 0.2s;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.07);
            }
            .carousel-arrow:hover {
                background: var(--color-primary-hover);
            }
            .carousel-arrow.left {
                margin-right: 16px;
            }
            .carousel-arrow.right {
                margin-left: 16px;
            }
            @media(max-width: 768px) {
                .screenshot-carousel {
                    height: 220px;
                }
                .carousel-arrow {
                    width: 38px;
                    height: 38px;
                    font-size: 1.5rem;
                }
            }
        </style>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>YAAP - Yet Another AOSP Project</title>
        <link rel="stylesheet" href="style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    </head>
    <body>
        <!-- Header/Navigation -->
        <header class="header">
            <nav class="nav container">
                <div class="nav__brand">
                    <h2 class="nav__logo" href="/">YAAP</h2>
                </div>
                <div class="nav__menu" id="nav-menu">
                    <a href="#home" class="nav__link">Home</a>
                    <a href="#screenshots" class="nav__link">Screenshots</a>
                    <a href="#downloads" class="nav__link">Download</a>
                    <a href="#community" class="nav__link">Community</a>
                    <a href="#contribute" class="nav__link">Contribute</a>
                </div>
                <button class="nav__toggle" id="nav-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </nav>
        </header>

        <main>
            <!-- Hero Section -->
            <section id="home" class="hero">
                <div class="hero__content container">
                    <div class="hero__text">
                        <h1 class="hero__title">YAAP</h1>
                        <h2 class="hero__subtitle">Yet Another AOSP Project</h2>
                        <div class="hero__buttons">
                            <a href="#downloads" class="btn btn--primary btn--lg">Download Now</a>
                            <a href="#downloads" class="btn btn--outline btn--lg">View Supported Devices</a>
                        </div>
                    </div>
                    <!-- <div class="hero__stats">
                        <div class="stat-card">
                            <h3 class="stat-card__number">1+</h3>
                            <p class="stat-card__label">Downloads</p>
                        </div>
                        <div class="stat-card">
                            <h3 class="stat-card__number">4920</h3>
                            <p class="stat-card__label">Devices</p>
                        </div>
                        <div class="stat-card">
                            <h3 class="stat-card__number">10</h3>
                            <p class="stat-card__label">Contributors</p>
                        </div>
                        <div class="stat-card">
                            <span class="stat-card__number" data-stat="github-stars">27</span>
                            <span class="stat-card__label">GitHub Stars</span>
                        </div>
                    </div> -->
                </div>
            </section>

            <!-- SS Section -->
            <section class="screenshots" id="screenshots">
                    <div class="container">
                <h2 class="section-title">Screenshots</h2>
                <div class="screenshot-carousel">
                    <button class="carousel-arrow left" aria-label="Previous Screenshot">&lt;</button>
                    <div class="screenshot-track">
                        <div class="screenshot-slide active">
                            <img src="ss/photo_1_2025-08-12_08-38-06.jpg" alt="Screenshot 1">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_1_2025-08-12_08-38-15.jpg" alt="Screenshot 2">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_2_2025-08-12_08-38-06.jpg" alt="Screenshot 3">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_2_2025-08-12_08-38-15.jpg" alt="Screenshot 4">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_3_2025-08-12_08-38-06.jpg" alt="Screenshot 5">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_3_2025-08-12_08-38-15.jpg" alt="Screenshot 6">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_4_2025-08-12_08-38-06.jpg" alt="Screenshot 7">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_4_2025-08-12_08-38-15.jpg" alt="Screenshot 8">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_5_2025-08-12_08-38-06.jpg" alt="Screenshot 9">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_5_2025-08-12_08-38-06.jpg" alt="Screenshot 10">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_6_2025-08-12_08-38-06.jpg" alt="Screenshot 11">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_7_2025-08-12_08-38-06.jpg" alt="Screenshot 13">
                        </div>
                        <div class="screenshot-slide">
                            <img src="ss/photo_8_2025-08-12_08-38-06.jpg" alt="Screenshot 16">
                        </div>
                    </div>
                    <button class="carousel-arrow right" aria-label="Next Screenshot">&gt;</button>

                </div>
                </div>
            </section>

            <!-- Supported Devices Section -->
<section id="downloads" class="downloads">
    <div class="container">
        <h2 class="section-title">Supported Devices</h2>
        <!-- Brand filter buttons will go here -->
        <div id="brand-filters" class="filter-buttons"></div>

        <!-- Device cards will go here -->
        <div id="devices-list" class="devices-grid">
            Loading devices...
        </div>
    </div>
</section>

            <!-- Community Section -->
            <section id="community" class="community">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Join Our Community</h2>
                        <p class="section-subtitle">Connect with fellow YAAP users and contributors</p>
                    </div>

                    <div class="community__grid">
                        <div class="community-card">
                            <div class="community-card__icon">💬</div>
                            <h3 class="community-card__title">Telegram</h3>
                            <p class="community-card__description">Get updates, support, and discuss YAAP with the community</p>
                            <a href="https://t.me/yaapupdates" target="_blank" class="btn btn--primary">Join Channel</a>
                        </div>

                        <div class="community-card">
                            <div class="community-card__icon">💻</div>
                            <h3 class="community-card__title">GitHub</h3>
                            <p class="community-card__description">Contribute to development, report bugs, and access source code</p>
                            <a href="https://github.com/YAAP" target="_blank" class="btn btn--primary">View Repository</a>
                        </div>

                        <div class="community-card">
                            <div class="community-card__icon">🌐</div>
                            <h3 class="community-card__title">XDA Forums</h3>
                            <p class="community-card__description">Detailed discussions, tutorials, and device-specific threads</p>
                            <a href="https://xdaforums.com/tags/yet-another-aosp-project/" target="_blank" class="btn btn--primary">Visit Forum</a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contribute Section -->
            <section id="contribute" class="contribute">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">Contribute to YAAP</h2>
                        <p class="section-subtitle">Help us make YAAP better for everyone</p>
                    </div>

                    <div class="contribute__content">
                        <div class="contribute-ways">
                            <div class="contribute-card">
                                <h3 class="contribute-card__title">👨‍💻 Development</h3>
                                <p class="contribute-card__description">Submit patches, fix bugs, or add new features to the codebase</p>
                            </div>

                            <div class="contribute-card">
                                <h3 class="contribute-card__title">🧪 Testing</h3>
                                <p class="contribute-card__description">Test builds on your device and report issues to help us improve stability</p>
                            </div>

                            <div class="contribute-card">
                                <h3 class="contribute-card__title">📱 Device Maintainer</h3>
                                <p class="contribute-card__description">Help maintain YAAP builds for your device model</p>
                            </div>

                            <div class="contribute-card">
                                <h3 class="contribute-card__title">📝 Documentation</h3>
                                <p class="contribute-card__description">Improve guides, write tutorials, or translate content</p>
                            </div>
                        </div>

                        <div class="contribute-cta">
                            <h3>Ready to contribute?</h3>
                            <p>Visit our GitHub organization to get started with contributing to YAAP</p>
                            <a href="https://github.com/YAAP" target="_blank" class="btn btn--primary btn--lg">Start Contributing</a>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer__bottom">
                    <p>&copy; 2025 YAAP Team. All rights reserved.</p>
                    <p>YAAP is not affiliated with Google or Android.</p>
                </div>
            </div>
        </footer>

<script>
    async function loadDevices() {
    const container = document.getElementById("devices-list");
    const filterContainer = document.getElementById("brand-filters");

    container.innerHTML = "Loading devices...";

    try {
        const repoContents = await fetch("https://api.github.com/repos/yaap/device-info/contents").then(r => r.json());
        const deviceFolders = repoContents.filter(item => item.type === "dir");

        const devicesData = await Promise.all(deviceFolders.map(async folder => {
            try {
                const infoUrl = `https://raw.githubusercontent.com/yaap/device-info/master/${folder.name}/${folder.name}.json`;
                console.log(`https://raw.githubusercontent.com/yaap/device-info/master/${folder.name}/${folder.name}.json`);
                const info = await fetch(infoUrl).then(r => r.json());

                // Auto-derive brand from first word of name
                const brandName = info.name ? info.name.split(" ")[0] : "Unknown";

                return { codename: folder.name, brand: brandName, ...info };
            } catch {
                return null;
            }
        }));

        const devices = devicesData.filter(Boolean);

        // Get unique brands sorted alphabetically
        const brands = [...new Set(devices.map(d => d.brand))].sort();

        // Render filter buttons
        filterContainer.innerHTML = `
            <button data-brand="All" class="filter-btn active">All</button>
            ${brands.map(b => `<button data-brand="${b}" class="filter-btn">${b}</button>`).join("")}
        `;

        // Render device cards
        function renderCards(brand = "All") {
            const filtered = brand === "All" ? devices : devices.filter(d => d.brand === brand);
            container.innerHTML = filtered.map(device => `
                <div class="device-card">
                    <h3>${device.name}</h3>
                    <p class="maintainer">Maintainer: ${device.maintainer || "Unknown"}</p>
                    <a href="device.html?codename=${device.codename}" class="btn btn--primary">Download</a>
                </div>
            `).join("");
            if (!filtered.length) container.innerHTML = "<p>No devices found.</p>";
        }

        renderCards();

        // Filter button click handling
        filterContainer.addEventListener("click", e => {
            if (e.target.classList.contains("filter-btn")) {
                document.querySelectorAll(".filter-btn").forEach(btn => btn.classList.remove("active"));
                e.target.classList.add("active");
                renderCards(e.target.dataset.brand);
            }
        });

    } catch (err) {
        console.error(err);
        container.innerHTML = "<p>Failed to load devices.</p>";
    }
}

document.addEventListener("DOMContentLoaded", loadDevices);

</script>

<style>
.filter-buttons {
    margin-bottom: 1rem;
}
.filter-btn {
    background: #444;
    color: white;
    border: none;
    padding: 6px 12px;
    margin: 2px;
    cursor: pointer;
    border-radius: 4px;
}
.filter-btn.active {
    background: #64b5f6;
}
</style>

        <script src="app.js"></script>
    </body>
</html>
